# üìñ PhoneBook API

A simple **REST API** built with **ASP.NET Core**, **Entity Framework Core**, and **PostgreSQL** for managing contacts in a phone book.

---

## ‚ö° Tech Stack
- **ASP.NET Core 8**
- **Entity Framework Core**
- **PostgreSQL**
- **RESTful API design**

---

## üìÇ Endpoints

### üîπ Get all contacts
```
GET /api/contacts
```

**Response**
```json
[
  {
    "id": 1,
    "contactType": 1,
    "name": "John Doe",
    "phoneNumber": "+57 300 1234567",
    "comments": "Friend from college",
    "createdAt": "2025-08-16T16:25:23.662Z",
    "updatedAt": "2025-08-16T16:25:23.662Z",
    "email": "john@example.com",
    "documentNumber": "123456789",
    "publicOrganizationAddress": "123 Main St",
    "organizationName": "Acme Corp",
    "legalRepresentativeName": "Jane Doe",
    "privateOrganizationAddress": "456 Home St"
  }
]
```

---

### üîπ Get contact by ID
```
GET /api/contacts/{id}
```

**Response**
```json
{
  "id": 1,
  "contactType": 1,
  "name": "John Doe",
  "phoneNumber": "+57 300 1234567",
  "comments": "Friend from college",
  "createdAt": "2025-08-16T16:26:32.726Z",
  "updatedAt": "2025-08-16T16:26:32.726Z",
  "email": "john@example.com",
  "documentNumber": "123456789",
  "publicOrganizationAddress": "123 Main St",
  "organizationName": "Acme Corp",
  "legalRepresentativeName": "Jane Doe",
  "privateOrganizationAddress": "456 Home St"
}
```

---

### üîπ Create a new contact
```
POST /api/contacts
```

**Payload**
```json
{
  "contactType": 1,
  "name": "John Doe",
  "phoneNumber": "+57 300 1234567",
  "comments": "Friend from college",
  "email": "john@example.com",
  "documentNumber": "123456789",
}
```

**Response**
```json
{
  "id": 2,
  "contactType": 1,
  "name": "John Doe",
  "phoneNumber": "+57 300 1234567",
  "comments": "Friend from college",
  "createdAt": "2025-08-16T16:27:40.120Z",
  "updatedAt": "2025-08-16T16:27:40.120Z",
  "email": "john@example.com",
  "documentNumber": "123456789",
  "publicOrganizationAddress": null,
  "organizationName": null,
  "legalRepresentativeName": null,
  "privateOrganizationAddress": null
}
```

---

### üîπ Update a contact
```
PUT /api/contacts/{id}
```

**Payload**
```json
{
  "id": 2,
  "contactType": 1,
  "name": "John Doe Updated",
  "phoneNumber": "+57 300 9876543",
  "comments": "Updated contact",
  "createdAt": "2025-08-16T16:27:40.120Z",
  "updatedAt": "2025-08-16T16:29:10.500Z",
  "email": "john.new@example.com",
  "documentNumber": "123456789",
  "publicOrganizationAddress": "123 Main St",
  "organizationName": "Acme Corp",
  "legalRepresentativeName": "Jane Doe",
  "privateOrganizationAddress": "456 Home St"
}
```

---

### üîπ Delete a contact
```
DELETE /api/contacts/{id}
```

---

## üõ†Ô∏è Setup & Run Locally

1. Clone the repo:
   ```bash
   git clone https://github.com/AngieMoya/WebApiPhoneBook.git
   ```

2. Update the **PostgreSQL connection string** in `appsettings.json`:
   ```json
   "ConnectionStrings": {
     "DefaultConnection": "Host=localhost;Database=phonebook;Username=postgres;Password=yourpassword"
   }
   ```

3. Run migrations:
   ```bash
   dotnet ef database update
   ```

4. Start the server:
   ```bash
   dotnet run
   ```

5. Open in browser / API client:
   ```
   http://localhost:5000/api/contacts
   ```

---

## üìå Notes
- `contactType` is represented as a numeric enum (e.g., `1 = Person`, `2 = PublicOrganization`,`3 = PrivateOrganization` ).
- Timestamps (`createdAt`, `updatedAt`) are auto-generated by the API.
- Email validation is enforced at the API level.
---

## üìú License
MIT License ¬© 2025
